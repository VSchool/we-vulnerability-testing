const { MongoMemoryServer } = require('mongodb-memory-server');

const startMemoryServer = async () => {
    console.log('Starting in-memory MongoDB database server...\n');
    const memoryServer = new MongoMemoryServer({
        instance: {
            port: +process.env.DB_PORT,
        }
    });
    await memoryServer.start()
    return memoryServer;
}

startMemoryServer()
    .then(() => {
        console.log('MongoDB in-memory database server ready!\n')
    })