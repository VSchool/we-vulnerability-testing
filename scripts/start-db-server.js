const { MongoMemoryServer } = require('mongodb-memory-server');

const startMemoryServer = async () => {
    console.log('Starting MongoDB database server...');
    const memoryServer = new MongoMemoryServer({
        instance: {
            port: +process.env.DB_PORT,
        }
    });
    await memoryServer.start()
    return memoryServer;
}

startMemoryServer()
    .then(() => {
        console.log('MongoDB database server ready!')
    })